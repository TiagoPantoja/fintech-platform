  apiVersion: v1
  kind: ConfigMap
  metadata:
    name: prometheus-config
    namespace: monitoring
  data:
    prometheus.yml: |
      global:
        scrape_interval: 15s
        evaluation_interval: 15s
      
      scrape_configs:
      - job_name: 'fintech-services'
        static_configs:
        - targets: ['transaction-api.fintech-system:8080', 'notification-service.fintech-system:8081']
        metrics_path: /health
        scrape_interval: 10s
      
      - job_name: 'kubernetes-nodes'
        kubernetes_sd_configs:
        - role: node
        relabel_configs:
        - action: labelmap
          regex: __meta_kubernetes_node_label_(.+)